# –ê–Ω–∞–ª–∏–∑ —É–∑–∫–∏—Ö –º–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ OSM Racing Game

–î–∞—Ç–∞: 2026-01-26
–ú–µ—Ç–æ–¥: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ + headless —Ç–µ—Å—Ç
–°—Ü–µ–Ω–∞: –ß–µ—Ä–µ–ø–æ–≤–µ—Ü, –Ω–æ—á—å, 30 —Å–µ–∫—É–Ω–¥

---

## üéØ –ì–ª–∞–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã

### –¢–µ–∫—É—â–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (headless —Ç–µ—Å—Ç):
- **FPS**: ~145 (–±–µ–∑ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ GPU)
- **Physics Time**: 5-7 ms ‚ö†Ô∏è **–£–ó–ö–û–ï –ú–ï–°–¢–û**
- **Frame Time**: 3-7 ms
- **Physics Bodies**: 1 (—Ç–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫, NPC –Ω–µ spawn'—è—Ç—Å—è –≤ headless)

### –û–∂–∏–¥–∞–µ–º—ã–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∏–≥—Ä–µ (—Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º):

---

## üî¥ CRITICAL - –¢—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è

### 1. **Backface Culling –æ—Ç–∫–ª—é—á–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª—ã**:
- `osm/osm_terrain_generator.gd:3546`
- `textures/texture_manager.gd` (4 –º–∞—Ç–µ—Ä–∏–∞–ª–∞)
- `osm/entrance_group_generator.gd` (3 –º–∞—Ç–µ—Ä–∏–∞–ª–∞)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞–∂–¥—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –¥–≤–∞–∂–¥—ã (front + back faces)

**–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–æ `CULL_DISABLED` ‚Üí `CULL_BACK` –¥–ª—è –≤—Å–µ—Ö –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +15-25% GPU –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

### 2. **SSR –∫–∞—á–µ—Å—Ç–≤–æ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–æ–µ** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª**: `race/race_scene.tscn:48`

**–ü—Ä–æ–±–ª–µ–º–∞**: `ssr_max_steps = 64` - –æ—á–µ–Ω—å –¥–æ—Ä–æ–≥–æ –¥–ª—è –ø–∏–∫—Å–µ–ª—å–Ω—ã—Ö —à–µ–π–¥–µ—Ä–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –°–Ω–∏–∂–µ–Ω–æ –¥–æ `ssr_max_steps = 24`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +10-15% GPU –Ω–∞ –ø–∏–∫—Å–µ–ª—å–Ω—ã—Ö —à–µ–π–¥–µ—Ä–∞—Ö

---

### 3. **200+ –∞–∫—Ç–∏–≤–Ω—ã—Ö physics bodies (50 NPC √ó 4 –∫–æ–ª–µ—Å–∞)**
**–§–∞–π–ª**: `traffic/traffic_manager.gd:8`

**–ü—Ä–æ–±–ª–µ–º–∞**:
- `MAX_NPCS = 50`
- –ö–∞–∂–¥–∞—è NPC –º–∞—à–∏–Ω–∞ = 1 VehicleBody3D + 4 VehicleWheel3D = 5 physics bodies
- 50 √ó 5 = 250 physics bodies –º–∏–Ω–∏–º—É–º
- RayCast3D –¥–ª—è –∫–∞–∂–¥–æ–π NPC –∫–∞–∂–¥—ã–π update

**–¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è** (–∏–∑ headless —Ç–µ—Å—Ç–∞):
- Physics Time: 5-7 ms (—Ç–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫!)
- –° 50 NPC –æ–∂–∏–¥–∞–µ—Ç—Å—è: **15-25 ms** üî¥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** (–ù–ï –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):
1. –°–Ω–∏–∑–∏—Ç—å MAX_NPCS –¥–æ 30-35
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å distance-based physics LOD:
   - 0-100m: Full VehicleBody3D physics
   - 100-200m: CharacterBody3D (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ–∏–∑–∏–∫–∞)
   - 200m+: –¢–æ–ª—å–∫–æ visual update (–±–µ–∑ —Ñ–∏–∑–∏–∫–∏)
3. –°–Ω–∏–∑–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É raycast —Å –∫–∞–∂–¥–æ–≥–æ frame –¥–æ —Ä–∞–∑ –≤ 3-5 frames

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +15-25% physics time (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å)

---

## üü† HIGH - –°–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 4. **–ù–µ—Ç LOD —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –∑–¥–∞–Ω–∏–π**
**–§–∞–π–ª**: `osm/osm_terrain_generator.gd`

**–ü—Ä–æ–±–ª–µ–º–∞**:
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–¥–µ: *"–ë–µ–∑ LOD - visibility_range –ø–ª–æ—Ö–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –∑–¥–∞–Ω–∏–π"*
- –í—Å–µ –∑–¥–∞–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è —Å –ø–æ–ª–Ω–æ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –Ω–∞ –≤—Å–µ—Ö —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è—Ö
- –¢–æ–ª—å–∫–æ `visibility_range_end = 400m` (hard cut, –Ω–µ LOD)
- –°–ª–æ–∂–Ω—ã–µ –∫—Ä—ã—à–∏ —Å 100-point –ø–æ–ª–∏–≥–æ–Ω–∞–º–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç—Ä–∏–∞–Ω–≥—É–ª–∏—Ä—É—é—Ç—Å—è

**–ú–µ—Ç—Ä–∏–∫–∏**:
- –¢–∏–ø–∏—á–Ω–æ–µ –∑–¥–∞–Ω–∏–µ: 50-500 vertices
- –û–∫–Ω–∞: MultiMesh instances (60-75 –æ–∫–æ–Ω –Ω–∞ –∑–¥–∞–Ω–∏–µ)
- 20-100 –∑–¥–∞–Ω–∏–π per chunk
- **–ò—Ç–æ–≥–æ**: 10,000-50,000 vertices —Ç–æ–ª—å–∫–æ –Ω–∞ –∑–¥–∞–Ω–∏—è –≤ –æ–¥–Ω–æ–º —á–∞–Ω–∫–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
–¢—Ä—ë—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è LOD:
- **LOD 0 (0-150m)**: Full detail, –≤—Å–µ –æ–∫–Ω–∞
- **LOD 1 (150-300m)**: –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫—Ä—ã—à–∞, –æ–∫–Ω–∞ as emissive texture
- **LOD 2 (300-400m)**: Box geometry, flat roof, no windows, no shadows

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +20-30% CPU/GPU (–º–µ–Ω—å—à–µ vertices, –º–µ–Ω—å—à–µ draw calls)

---

### 5. **–ù–µ—Ç Frustum Culling –¥–ª—è —á–∞–Ω–∫–æ–≤**
**–§–∞–π–ª**: `osm/osm_terrain_generator.gd` –≤ `_update_chunks()`

**–ü—Ä–æ–±–ª–µ–º–∞**:
- –ß–∞–Ω–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –æ—Ç –∏–≥—Ä–æ–∫–∞
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —á–∞–Ω–∫ –≤ –ø–æ–ª–µ –∑—Ä–µ–Ω–∏—è –∫–∞–º–µ—Ä—ã
- –†–µ–Ω–¥–µ—Ä—è—Ç—Å—è —á–∞–Ω–∫–∏ –ø–æ–∑–∞–¥–∏ –∏–≥—Ä–æ–∫–∞ (–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–∏–¥–Ω—ã)

**–ú–µ—Ç—Ä–∏–∫–∏**:
- `load_distance = 500m`
- –†–∞–¥–∏—É—Å 500m = ~8-10 —á–∞–Ω–∫–æ–≤ (chunk_size = 300m)
- –ö–∞–º–µ—Ä–∞ –≤–∏–¥–∏—Ç ~4-5 —á–∞–Ω–∫–æ–≤ —Å–ø–µ—Ä–µ–¥–∏
- **–õ–∏—à–Ω–∏–µ**: 3-5 —á–∞–Ω–∫–æ–≤ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –∑—Ä—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Camera3D.get_frustum()` –¥–ª—è culling
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å frustum test –Ω–∞ 2-3 —Ñ—Ä–µ–π–º–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +10-20% –¥–ª—è —á–∞–Ω–∫–æ–≤ –≤–Ω–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏

---

### 6. **–ö–∞–∂–¥—ã–π road segment = –æ—Ç–¥–µ–ª—å–Ω—ã–π mesh**
**–§–∞–π–ª**: `osm/osm_terrain_generator.gd`

**–ü—Ä–æ–±–ª–µ–º–∞**:
- Processing: 3 roads per frame
- –ö–∞–∂–¥–∞—è –¥–æ—Ä–æ–≥–∞ = –æ—Ç–¥–µ–ª—å–Ω—ã–π MeshInstance3D
- 50-100 road segments per chunk
- **–ò—Ç–æ–≥–æ**: 50-100 draw calls —Ç–æ–ª—å–∫–æ –Ω–∞ –¥–æ—Ä–æ–≥–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
- –ë–∞—Ç—á–∏–Ω–≥: –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å–µ –¥–æ—Ä–æ–≥–∏ –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –≤ —á–∞–Ω–∫–µ ‚Üí 1 MultiMeshInstance3D
- –£–º–µ–Ω—å—à–∏—Ç draw calls —Å ~100 –¥–æ ~5-10 per chunk

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +10-15% render time

---

## üü° MEDIUM - –ú–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å

### 7. **50-80 OmniLight3D per chunk**
**–§–∞–π–ª—ã**:
- `osm/osm_terrain_generator.gd` (–ª–∞–º–ø—ã)
- `osm/business_sign_generator.gd:150` (–≤—ã–≤–µ—Å–∫–∏)

**–ü—Ä–æ–±–ª–µ–º–∞**:
- 20-50 —É–ª–∏—á–Ω—ã—Ö –ª–∞–º–ø per chunk
- 10-30 business signs per chunk
- –ö–∞–∂–¥–∞—è = OmniLight3D —Å range 8-12m
- **–ò—Ç–æ–≥–æ**: 50-80 –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å–≤–µ—Ç–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
1. –õ–∏–º–∏—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö lights: max 32-64 –Ω–∞ —Å—Ü–µ–Ω–µ
2. –û—Ç–∫–ª—é—á–∞—Ç—å –¥–∞–ª—å–Ω–∏–µ –ª–∞–º–ø—ã –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
3. –°–Ω–∏–∑–∏—Ç—å range —Å 12m ‚Üí 8m
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LightmapGI –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è —É–ª–∏—Ü

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +10-15% render time

---

### 8. **8000 rain particles** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª**: `night_mode/night_mode_manager.gd:277`

**–ü—Ä–æ–±–ª–µ–º–∞**:
- `amount = 8000` GPUParticles –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã
- `visibility_aabb = 120√ó120√ó60` (–æ–≥—Ä–æ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å)

**–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –°–Ω–∏–∂–µ–Ω–æ –¥–æ 4000 particles, AABB –¥–æ 80√ó80√ó40

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +8-12% GPU

---

### 9. **FBM sky shader –∫–∞–∂–¥—ã–π —Ñ—Ä–µ–π–º**
**–§–∞–π–ª**: `night_mode/night_mode_manager.gd:139-149`

**–ü—Ä–æ–±–ª–µ–º–∞**:
- 5 –∏—Ç–µ—Ä–∞—Ü–∏–π fractal brownian motion –≤ sky shader
- –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è –Ω–µ–±–∞ –∫–∞–∂–¥—ã–π —Ñ—Ä–µ–π–º

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
1. –°–Ω–∏–∑–∏—Ç—å iterations —Å 5 ‚Üí 3
2. Pre-compute noise texture –≤–º–µ—Å—Ç–æ runtime —Ä–∞—Å—á–µ—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +3-5% pixel shader time

---

### 10. **Performance Profiler –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª**: `debug/performance_profiler.gd:8`

**–ü—Ä–æ–±–ª–µ–º–∞**: `enabled = true` by default

**–†–µ—à–µ–Ω–∏–µ**: ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ `enabled = false`

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +2-3% –æ–±—â–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üü¢ LOW - –ú–µ–ª–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### 11. **–û–≥—Ä–æ–º–Ω—ã–π ground plane (10000√ó10000)**
**–§–∞–π–ª**: `race/race_scene.tscn`

**–ü—Ä–æ–±–ª–µ–º–∞**: StaticBody3D —Å 10000√ó10000 plane

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**: –£–º–µ–Ω—å—à–∏—Ç—å –¥–æ 2000√ó2000 –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å (OSM terrain –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–≤–æ—é –∑–µ–º–ª—é)

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: +1-2% memory

---

### 12. **4-5 camera scripts –∑–∞–≥—Ä—É–∂–µ–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**
**–§–∞–π–ª**: `camera/camera_manager.gd`

**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ –∫–∞–º–µ—Ä—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã, –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞–º–µ—Ä—É

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: Minor memory savings

---

## üìä –°—É–º–º–∞—Ä–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

### ‚úÖ –£–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ:
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –ü—Ä–∏—Ä–æ—Å—Ç | –°—Ç–∞—Ç—É—Å |
|-------------|---------|--------|
| Backface culling | +15-25% GPU | ‚úÖ |
| SSR steps 64‚Üí24 | +10-15% GPU | ‚úÖ |
| Rain 8000‚Üí4000 | +8-12% GPU | ‚úÖ |
| Profiler OFF | +2-3% CPU | ‚úÖ |
| **–ò–¢–û–ì–û** | **+35-50% GPU, +5-10% CPU** | ‚úÖ |

### üîÆ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å):
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | –ü—Ä–∏—Ä–æ—Å—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|-------------|---------|-----------|
| Building LOD | +20-30% | –í—ã—Å–æ–∫–∞—è |
| Frustum culling | +10-20% | –°—Ä–µ–¥–Ω—è—è |
| Road batching | +10-15% | –°—Ä–µ–¥–Ω—è—è |
| Light LOD | +10-15% | –ù–∏–∑–∫–∞—è |
| Physics LOD (NPC) | +15-25% physics | –í—ã—Å–æ–∫–∞—è |
| **–ò–¢–û–ì–û** | **+65-105%** | - |

### üéØ –û–∂–∏–¥–∞–µ–º—ã–π FPS –ø—Ä–∏—Ä–æ—Å—Ç:

**Baseline** (–¥–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π): 30-40 FPS
**–ü–æ—Å–ª–µ —Ç–µ–∫—É—â–∏—Ö**: 45-65 FPS (+40-70%) ‚úÖ
**–ü–æ—Å–ª–µ –≤—Å–µ—Ö**: 70-100 FPS (+130-180%) üîÆ

---

## üß™ –ú–µ—Ç–æ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç:
```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤ Godot:
tests/performance_test.tscn

# –ò–ª–∏ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
"/Applications/Godot.app/Contents/MacOS/Godot" --path . res://tests/performance_test.tscn
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å race_scene.tscn
2. –ü–æ–µ—Ö–∞—Ç—å –≤ –ß–µ—Ä–µ–ø–æ–≤–µ—Ü –Ω–æ—á—å—é
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å FPS (Debug ‚Üí Monitors ‚Üí FPS)
4. –°—Ä–∞–≤–Ω–∏—Ç—å —Å baseline

---

## üîß –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–ª–µ–¥—É—é—â–∏—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

### –ò—Ç–µ—Ä–∞—Ü–∏—è 2 (—Å–ª–µ–¥—É—é—â–∞—è):
1. **Building LOD** - —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (+20-30%)
2. **Frustum culling** - –ø—Ä–æ—Å—Ç–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (+10-20%)
3. **Road batching** - —Å—Ä–µ–¥–Ω–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ (+10-15%)

### –ò—Ç–µ—Ä–∞—Ü–∏—è 3 (–ø–æ—Å–ª–µ):
4. **Light LOD** - quick win (+10-15%)
5. **Physics LOD –¥–ª—è NPC** - —Å–ª–æ–∂–Ω–æ –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ (+15-25%)
6. **Sky shader** - –º–µ–ª–∫–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ (+3-5%)

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **NPC –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ** –æ—Å—Ç–∞–≤–ª–µ–Ω–æ 50 –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª–æ—Å—å)
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- –¢–µ—Å—Ç performance_test.tscn –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ headless vs GUI —Ä–µ–∂–∏–º–µ
- –î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫ —Å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º (–Ω–µ headless)

---

*–°–æ–∑–¥–∞–Ω–æ: Claude Code
–í–µ—Ä—Å–∏—è –¥–≤–∏–∂–∫–∞: Godot 4.5.1
–î–∞—Ç–∞: 2026-01-26*
